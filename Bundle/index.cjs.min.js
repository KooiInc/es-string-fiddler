exports.$S=H();function H(){let x=z(),E=["concat","padEnd","padStart","repeat","replace","replaceAll","slice","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","toWellFormed","trim","trimEnd","trimLeft","trimRight","trimStart","substring"].reduce((e,t)=>({...e,[t]:r=>(...n)=>(n.length&&n[0].raw&&(n=[A(n[0],n.slice(1))]),a(r[t](...n)))}),{}),F=R(),w=e=>(...t)=>a`${F(e,...t)}`,v=([e,...t])=>`${e.toUpperCase()}${t.join("")}`,S=e=>e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`).replace(/^-|-$/,""),$=e=>e.split(" ").map(t=>t.replace(/[a-z]/i,r=>v(r))).join(" "),f=e=>e.toLowerCase().trim().split(/[- ]/).map((t,r)=>r&&`${v(t)}`||t).join(""),i=e=>({at:t,html:r=!1,wordBoundary:n=!1}={})=>{if(e.length<=t)return a(e);let c=e.slice(0,t-1),u=r?" &hellip;":" ...";return a((n?c.slice(0,c.lastIndexOf(" ")):c)+u)},b=e=>a(e.replace(/</g,"&lt;")),C=e=>(t,r)=>{let n=r&&Object.entries(r).reduce((L,[o,s])=>[...L,`${o}="${s}"`],[]).join("")||"",c=x(Object.assign(document.createElement("div"),{innerHTML:`<${t} ${n}>${e}</${t}>`}));if(c.firstChild)return a(c.firstChild.outerHTML);let u=i(`<${t} ${n}>${e}</${t}>`)({at:40,html:!0});return a`<span style="color:red">${b(u)}</span> <i>is not valid</i> 
    (see console)`},p=e=>(t,r)=>{if([t,r].filter(c=>Object.getPrototypeOf(c??-1)?.constructor===String).length===2){let c=RegExp(t,"g");return a(e.replace(c,r))}return a(e)},h=e=>({terms:t=[],caseSensitive:r=!1}={})=>{let n=t.constructor===RegExp;t=t&&!n&&!Array.isArray(t)?[t]:t;let c=!n&&!t.find(l=>l.constructor!==String);if(!n&&(!c||!t.length))return{hits:"n/a",result:"please provide valid terms"};let u=n&&`${t.flags??""}`||(r?"i":""),L=RegExp(n?t:t.join("|"),`g${u}`),o=[...e.matchAll(L)],s=o.length;return o=s>0?o.reduce((l,m)=>({...l,[m[0]]:{at:(l[m[0]]?.at||[]).concat(m.index)}}),{}):{},{searched4:n?t.toString():t.join(", "),hits:s,result:o}},j=e=>a(e.replace(/[\n\r]/g,"").replace(/\s{2,}/g," ").replace(/(>\s+<)/g,"><").replace(/>\s+(\w)/g,(t,r)=>`>${r}`).replace(/(\w)\s+</g,(t,r)=>`${r}<`).replace(/ +>/g,">").replace(/^\s+|\s+$/,"")),T=e=>(t,r=0)=>a(`${e.slice(0,(r>0,r))}${t}${e.slice(r)}`),g=e=>({get lower(){return a(e.toLowerCase())},get upper(){return a(e.toUpperCase())},get camel(){return a`${f(e)}`},get wordsFirstUC(){return a`${$(e)}`},get dashed(){return a`${S(e)}`},get firstUC(){return a(v(e))}}),d={...N({isProxied:!0,wordsFirstUC:e=>g(e).wordsFirstUC,toCamelCase:e=>g(e).camel,toDashedNotation:e=>g(e).dashed,ucFirst:e=>g(e).firstUC,append:e=>t=>a(`${e}${t}`),lower:e=>g(e).lower,upper:e=>g(e).upper,createRegExp:e=>(t,...r)=>{try{return M(t,...r)}catch(n){return`Can't do this: ${n.message}`}},case:g,quote:e=>({get single(){return a(`'${e}'`)},get double(){return a(`"${e}"`)},get backtick(){return a(`\`${e}\``)}}),value:e=>e.valueOf(),insert:T,format:w,toTag:C,truncate:i,replaceWords:p,escHTML:b,compressHTML:j,find:h}),...E};d.addFN=()=>(e,t)=>d[e]=r=>(...n)=>a(t(r,...n)),d.addMethod=d.addFN,d.addProp=()=>(e,t)=>d[e]=r=>a(t(r)),d.methods=Object.getOwnPropertyNames(d);let y={get:(e,t)=>{if(d[t]&&!/valueof|tostring|object/i.test(t))return d[t]instanceof Function?d[t](e):d[t];if(e[t])return e[t]instanceof Function?e[t].bind(e):e[t]}};function A(e,...t){return new String(t.length?e.reduce((r,n,c)=>r.concat(`${n}${t[c]??""}`),""):e)}function a(e,...t){let r=A(e,...t);return new Proxy(r,y)}return a;function N(e){let t=(c,...u)=>a(A(c,...u)),r=()=>(c,...u)=>t(c,...u);return{...{clone:t,cloneTo:r,set:r},...e}}function M(e,...t){let r=t.length&&Array.isArray(t.slice(-1))?t.pop().join(""):"";return new RegExp((t.length&&e.raw.reduce((n,c,u)=>n.concat(t[u-1]||"").concat(c),"")||e.raw.join("")).split(`
`).map(n=>n.replace(/\s|\/\/.*$/g,"").trim().replace(/(@s!)/g," ")).join(""),r)}function R(){let{isStringOrNumber:e,isObject:t,invalidate:r,replacement:n,replacer:c,replace:u}={isStringOrNumber:o=>[String,Number].find(s=>Object.getPrototypeOf(o??"")?.constructor===s),isObject:o=>Object.getPrototypeOf(o??"")?.constructor===Object,invalidate:(o,s)=>o??`{${s}}`,replacement:(o,s,l)=>!e(s[o])||!l&&`${s[o]}`.trim()===""?r(l,o):s[o]??r(l,o),replacer:(o,s)=>(...l)=>n(l.find(m=>m.key).key??"_",o,s),replace:(o,s,l)=>o.replace(/\{(?<key>[a-z_\d]+)}/gim,c(s,l))},L=(o,s=void 0,...l)=>l.flat().reduce((m,U)=>m.concat(t(U)?u(o,U,s):""),"");return(o,...s)=>L(o,void 0,...s)}}function z(){let{html:x,svg:E,tags:F}=tagsInfo,w={data:/data-[\-\w.\p{L}]/ui,validURL:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,whiteSpace:/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g,notAllowedValues:/javascript|injected|noreferrer|alert|DataURL/gi},v=$=>{let f=$?.nodeName.toLowerCase()||"none";return f==="#text"||!!F[f]};return S;function S($){let f={rawHTML:$.outerHTML,removed:{}};return $ instanceof HTMLElement&&[...$.childNodes].forEach(i=>{if(i?.attributes){let C=i instanceof SVGElement?E:x;[...(i??{attributes:[]}).attributes].forEach(p=>{let h=p.name.trim().toLowerCase(),j=p.value.trim().toLowerCase().replace(w.whiteSpace,""),T=h==="href"?!w.validURL.test(j):w.notAllowedValues.test(j),g=h.startsWith("data")?!w.data.test(h):!!C[h];if(T||g){let O=p.value||"none";O+=O.length===60?"...":"",f.removed[`${p.name}`]=`attribute/property (-value) not allowed, removed. Value: ${O}`,i.removeAttribute(p.name)}})}if(!v(i)){let p=(i?.outerHTML||i?.textContent).trim()??"EMPTY";p+=p.length===60?"...":"",f.removed[`<${i.nodeName?.toLowerCase()}>`]=`not allowed, not rendered. Value: ${p}`,i.remove()}}),Object.keys(f.removed).length&&Object.entries(f.removed).forEach(([i,b])=>console.error(`${i}: ${b}`)),$}}
